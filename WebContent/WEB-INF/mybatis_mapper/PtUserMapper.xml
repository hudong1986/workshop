<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="workshop.repository.PtUserMapper">
	<resultMap id="BaseResultMap" type="workshop.model.PtUser">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="phone" property="phone" jdbcType="VARCHAR" />
		<result column="user_pwd" property="userPwd" jdbcType="VARCHAR" />
		<result column="body_id" property="bodyId" jdbcType="VARCHAR" />
		<result column="address" property="address" jdbcType="VARCHAR" />
		<result column="role_code" property="roleCode" jdbcType="VARCHAR" />
		<result column="role_name" property="roleName" jdbcType="VARCHAR" />
		<result column="dept_id" property="deptId" jdbcType="INTEGER" />
		<result column="dept_name" property="deptName" jdbcType="VARCHAR" />
		<result column="real_name" property="realName" jdbcType="VARCHAR" />
		<result column="pic_url" property="picUrl" jdbcType="VARCHAR" />
		<result column="sex" property="sex" jdbcType="BIT" />
		<result column="add_time" property="addTime" jdbcType="TIMESTAMP" />
		<result column="leave_time" property="leaveTime" jdbcType="TIMESTAMP" />
		<result column="login_time" property="loginTime" jdbcType="TIMESTAMP" />
		<result column="state" property="state" jdbcType="TINYINT" />
		<result column="up_down_id" property="upDownId" jdbcType="VARCHAR" />
		<result column="job_name" property="jobName" jdbcType="VARCHAR" />
		<result column="fix_money" property="fixMoney" jdbcType="INTEGER" />
		<result column="work_days" property="workDays" jdbcType="TINYINT" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		id, phone, user_pwd, body_id, address, role_code, role_name, dept_id,
		dept_name,
		real_name, pic_url, sex, add_time, leave_time, login_time, state, up_down_id,
		job_name,
		fix_money, work_days
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from pt_user
		where id = #{id,jdbcType=INTEGER}
	</select>

	<select id="searchBySql" resultMap="BaseResultMap"
		parameterType="java.lang.String" statementType="STATEMENT">
		 <![CDATA[${sql}]]>

	</select>

	<select id="countBySql" resultType="java.lang.Integer"
		parameterType="java.lang.String" statementType="STATEMENT">
		 <![CDATA[${sql}]]>
	</select>
	
	<select id="selectByPhone" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from pt_user
		where phone = #{phone,jdbcType=VARCHAR}
	    limit 1
	</select>

	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from pt_user
		where id = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="workshop.model.PtUser">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into pt_user (id, phone, user_pwd,
		body_id, address, role_code,
		role_name, dept_id, dept_name,
		real_name, pic_url, sex,
		add_time, leave_time, login_time,
		state, up_down_id, job_name,
		fix_money, work_days)
		values (#{id,jdbcType=INTEGER}, #{phone,jdbcType=VARCHAR},
		#{userPwd,jdbcType=VARCHAR},
		#{bodyId,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, #{roleCode,jdbcType=VARCHAR},
		#{roleName,jdbcType=VARCHAR}, #{deptId,jdbcType=INTEGER},
		#{deptName,jdbcType=VARCHAR},
		#{realName,jdbcType=VARCHAR}, #{picUrl,jdbcType=VARCHAR}, #{sex,jdbcType=BIT},
		#{addTime,jdbcType=TIMESTAMP}, #{leaveTime,jdbcType=TIMESTAMP},
		#{loginTime,jdbcType=TIMESTAMP},
		#{state,jdbcType=TINYINT}, #{upDownId,jdbcType=VARCHAR}, #{jobName,jdbcType=VARCHAR},
		#{fixMoney,jdbcType=INTEGER}, #{workDays,jdbcType=TINYINT})
	</insert>
	<insert id="insertSelective" parameterType="workshop.model.PtUser">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into pt_user
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="phone != null">
				phone,
			</if>
			<if test="userPwd != null">
				user_pwd,
			</if>
			<if test="bodyId != null">
				body_id,
			</if>
			<if test="address != null">
				address,
			</if>
			<if test="roleCode != null">
				role_code,
			</if>
			<if test="roleName != null">
				role_name,
			</if>
			<if test="deptId != null">
				dept_id,
			</if>
			<if test="deptName != null">
				dept_name,
			</if>
			<if test="realName != null">
				real_name,
			</if>
			<if test="picUrl != null">
				pic_url,
			</if>
			<if test="sex != null">
				sex,
			</if>
			<if test="addTime != null">
				add_time,
			</if>
			<if test="leaveTime != null">
				leave_time,
			</if>
			<if test="loginTime != null">
				login_time,
			</if>
			<if test="state != null">
				state,
			</if>
			<if test="upDownId != null">
				up_down_id,
			</if>
			<if test="jobName != null">
				job_name,
			</if>
			<if test="fixMoney != null">
				fix_money,
			</if>
			<if test="workDays != null">
				work_days,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=INTEGER},
			</if>
			<if test="phone != null">
				#{phone,jdbcType=VARCHAR},
			</if>
			<if test="userPwd != null">
				#{userPwd,jdbcType=VARCHAR},
			</if>
			<if test="bodyId != null">
				#{bodyId,jdbcType=VARCHAR},
			</if>
			<if test="address != null">
				#{address,jdbcType=VARCHAR},
			</if>
			<if test="roleCode != null">
				#{roleCode,jdbcType=VARCHAR},
			</if>
			<if test="roleName != null">
				#{roleName,jdbcType=VARCHAR},
			</if>
			<if test="deptId != null">
				#{deptId,jdbcType=INTEGER},
			</if>
			<if test="deptName != null">
				#{deptName,jdbcType=VARCHAR},
			</if>
			<if test="realName != null">
				#{realName,jdbcType=VARCHAR},
			</if>
			<if test="picUrl != null">
				#{picUrl,jdbcType=VARCHAR},
			</if>
			<if test="sex != null">
				#{sex,jdbcType=BIT},
			</if>
			<if test="addTime != null">
				#{addTime,jdbcType=TIMESTAMP},
			</if>
			<if test="leaveTime != null">
				#{leaveTime,jdbcType=TIMESTAMP},
			</if>
			<if test="loginTime != null">
				#{loginTime,jdbcType=TIMESTAMP},
			</if>
			<if test="state != null">
				#{state,jdbcType=TINYINT},
			</if>
			<if test="upDownId != null">
				#{upDownId,jdbcType=VARCHAR},
			</if>
			<if test="jobName != null">
				#{jobName,jdbcType=VARCHAR},
			</if>
			<if test="fixMoney != null">
				#{fixMoney,jdbcType=INTEGER},
			</if>
			<if test="workDays != null">
				#{workDays,jdbcType=TINYINT},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="workshop.model.PtUser">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update pt_user
		<set>
			<if test="phone != null">
				phone = #{phone,jdbcType=VARCHAR},
			</if>
			<if test="userPwd != null">
				user_pwd = #{userPwd,jdbcType=VARCHAR},
			</if>
			<if test="bodyId != null">
				body_id = #{bodyId,jdbcType=VARCHAR},
			</if>
			<if test="address != null">
				address = #{address,jdbcType=VARCHAR},
			</if>
			<if test="roleCode != null">
				role_code = #{roleCode,jdbcType=VARCHAR},
			</if>
			<if test="roleName != null">
				role_name = #{roleName,jdbcType=VARCHAR},
			</if>
			<if test="deptId != null">
				dept_id = #{deptId,jdbcType=INTEGER},
			</if>
			<if test="deptName != null">
				dept_name = #{deptName,jdbcType=VARCHAR},
			</if>
			<if test="realName != null">
				real_name = #{realName,jdbcType=VARCHAR},
			</if>
			<if test="picUrl != null">
				pic_url = #{picUrl,jdbcType=VARCHAR},
			</if>
			<if test="sex != null">
				sex = #{sex,jdbcType=BIT},
			</if>
			<if test="addTime != null">
				add_time = #{addTime,jdbcType=TIMESTAMP},
			</if>
			<if test="leaveTime != null">
				leave_time = #{leaveTime,jdbcType=TIMESTAMP},
			</if>
			<if test="loginTime != null">
				login_time = #{loginTime,jdbcType=TIMESTAMP},
			</if>
			<if test="state != null">
				state = #{state,jdbcType=TINYINT},
			</if>
			<if test="upDownId != null">
				up_down_id = #{upDownId,jdbcType=VARCHAR},
			</if>
			<if test="jobName != null">
				job_name = #{jobName,jdbcType=VARCHAR},
			</if>
			<if test="fixMoney != null">
				fix_money = #{fixMoney,jdbcType=INTEGER},
			</if>
			<if test="workDays != null">
				work_days = #{workDays,jdbcType=TINYINT},
			</if>
		</set>
		where id = #{id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="workshop.model.PtUser">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update pt_user
		set phone = #{phone,jdbcType=VARCHAR},
		user_pwd = #{userPwd,jdbcType=VARCHAR},
		body_id = #{bodyId,jdbcType=VARCHAR},
		address = #{address,jdbcType=VARCHAR},
		role_code = #{roleCode,jdbcType=VARCHAR},
		role_name = #{roleName,jdbcType=VARCHAR},
		dept_id = #{deptId,jdbcType=INTEGER},
		dept_name = #{deptName,jdbcType=VARCHAR},
		real_name = #{realName,jdbcType=VARCHAR},
		pic_url = #{picUrl,jdbcType=VARCHAR},
		sex = #{sex,jdbcType=BIT},
		add_time = #{addTime,jdbcType=TIMESTAMP},
		leave_time = #{leaveTime,jdbcType=TIMESTAMP},
		login_time = #{loginTime,jdbcType=TIMESTAMP},
		state = #{state,jdbcType=TINYINT},
		up_down_id = #{upDownId,jdbcType=VARCHAR},
		job_name = #{jobName,jdbcType=VARCHAR},
		fix_money = #{fixMoney,jdbcType=INTEGER},
		work_days = #{workDays,jdbcType=TINYINT}
		where id = #{id,jdbcType=INTEGER}
	</update>
	
	<update id="updateLeaveMore" >
		update pt_user
		set state = 1,
		leave_time=now()
		where id in
		<foreach item="item" index="index" collection="list" open="("
            separator="," close=")">
		  #{item}
		</foreach>
	</update>
	<update id="updateRestPwdMore" >
		update pt_user
		set user_pwd = #{pwd}
		where id in
		<foreach item="item" index="index" collection="list" open="("
            separator="," close=")">
		  #{item}
		</foreach>
	</update>
</mapper>